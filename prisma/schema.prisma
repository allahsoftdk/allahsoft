// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native","debian-openssl-1.1.x"]
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id Int @id @default(autoincrement())
  name String? @db.VarChar(255)
  email String? @unique @db.VarChar(255)
  password String @db.Text()
  token String @db.Text()
  created_at DateTime @db.DateTime()
  update_at DateTime @db.DateTime()
  posts Post[]
  user_followers User_followers[]
  post_comments Post_comments[]
  post_likes Post_likes[]
  chat_messages Chat_messages[]
  chat_room_participants Chat_room_participants[]
  roles_users Roles_users[]
}

model Prayer_alarms {
  id Int @id @default(autoincrement())
  prayer_alarm DateTime @db.DateTime()
}

model Settings{
  id Int @id @default(autoincrement())
  setting_name String @db.VarChar(255)
  setting_value String @db.VarChar(255)
}

model Post {
  id       Int  @id @default(autoincrement())
  description String @db.TinyText()
  resources String @db.VarChar(255)
  userId   User @relation(fields: [fk_user], references: [id])
  fk_user Int
  post_comments Post_comments[]
  post_likes Post_likes[]
}

model User_followers{
 id Int @id @default(autoincrement())
 follower_id Int @db.Int()
 userId   User @relation(fields: [fk_user], references: [id])
 fk_user Int
}

model Post_comments{
  comment String @db.TinyText()
  postCommentId Post @relation(fields: [fk_post], references: [id])
  fk_post Int
  userId   User @relation(fields: [fk_user], references: [id])
  fk_user Int
  @@id([fk_post, fk_user])
}


model Post_likes{
  postId Post @relation(fields: [fk_post], references: [id])
  fk_post Int
  userId   User @relation(fields: [fk_user], references: [id])
  fk_user Int
  @@id([fk_post, fk_user])
}

model Chat_rooms{
  id Int @id @default(autoincrement())
  name String @db.VarChar(255)
  chat_messages Chat_messages[]
  chat_room_participants Chat_room_participants[]
}

model Chat_messages{
  messages String @db.VarChar(255)
  chat_rooms Chat_rooms @relation(fields: [fk_chat_room], references: [id])
  fk_chat_room Int
  userId  User @relation(fields: [fk_user], references: [id])
  fk_user Int
  @@id([fk_chat_room, fk_user])
}

model Chat_room_participants{
  chat_rooms Chat_rooms @relation(fields: [fk_chat_room], references: [id])
  fk_chat_room Int
  userId  User @relation(fields: [fk_user], references: [id])
  fk_user Int
  @@id([fk_chat_room, fk_user])
}

model Roles{
  id Int @id @default(autoincrement())
  name String @db.VarChar(255)
  roles_users Roles_users[]
}

model Roles_users{
  roles Roles @relation(fields: [fk_roles], references: [id])
  fk_roles Int
  userId User @relation(fields: [fk_user], references: [id])
  fk_user Int
  @@id([fk_roles, fk_user])
}